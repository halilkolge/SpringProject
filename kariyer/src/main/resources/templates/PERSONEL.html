<!DOCTYPE html>
<html lang="en
" xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content=" initial-scale=1, maximum-scale-1, shrink-to-fit=yes"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>U-ETDS | Personel Ekle</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <link rel="stylesheet" th:href="@{/css/pace.min.css}"/>
    <script th:src="@{/js/pace.min.js}"></script>
    <!--favicon-->
    <link rel="icon" th:href="@{/images/favicon.ico}" type="image/x-icon">
    <!-- simplebar CSS-->
    <link th:href="@{/plugins/simplebar/css/simplebar.css}" rel="stylesheet"/>
    <!-- Bootstrap core CSS-->
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
    <!-- animate CSS-->
    <link th:href="@{/css/animate.css}" rel="stylesheet" type="text/css"/>
    <!-- Icons CSS-->
    <link th:href="@{/css/icons.css}" rel="stylesheet" type="text/css"/>
    <!-- Sidebar CSS-->
    <link th:href="@{/css/sidebar-menu.css}" rel="stylesheet"/>
    <!-- Custom Style-->
    <link th:href="@{/css/app-style_edit.css}" rel="stylesheet"/>
    <!-- skins CSS-->
    <link th:href="@{/css/skins.css}" rel="stylesheet"/>
    <!--Bootstrap Datepicker-->
    <link th:href="@{/plugins/bootstrap-datepicker/css/bootstrap-datepicker.min.css}" rel="stylesheet" type="text/css">

    <link rel="stylesheet" th:href="@{/plugins/notifications/css/lobibox.min.css}"/>


</head>

<body>
<!-- Start wrapper-->
<div id="wrapper">

    <div id="loading-screen" style="display: none; background-color: white">
        <div class='loader'>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--text'></div>
        </div>
    </div>

    <!--Start sidebar-topbar-wrapper-->
    <div th:replace="SideBar :: navbar"/>
    <!--End sidebar-topbar-wrapper-->


    <div class="clearfix"></div>
    <div class="content-wrapper">
        <div class="container-fluid">
            <!-- Breadcrumb-->
            <div class="row pt-2 pb-2">
                <div class="col-sm-9">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javaScript:void(0);">Yönetim Araçları</a></li>
                        <li class="breadcrumb-item"><a href="javaScript:void(0);">Personel Yönetimi</a></li>
                    </ol>
                </div>
                <div class="col-sm-3">
                    <div class="btn-group float-sm-right m-1" role="group">
                        <button type="button" class="btn btn-light dropdown-toggle" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                            Hızlı Erişim
                        </button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item"
                               style="font-size: small; background-color: rgba(129, 90, 232, 0.15);">Teknik Destek</a>
                            <a href="/teknikdestek/olustur" class="dropdown-item text-center" style="font-size: small">Teknik
                                Destek Talebi</a>
                            <a href="/teknikdestek/taleplerim" class="dropdown-item text-right"
                               style="font-size: small">&emsp;&emsp;Teknik Destek Taleplerim</a>
                            <a class="dropdown-item "
                               style="font-size: small; background-color: rgba(129, 90, 232, 0.15);">Öneri /
                                Şikayetleriniz</a>
                            <a href="/oneri/olustur" class="dropdown-item text-center" style="font-size: small">Öneri /
                                Şikayet Talebi</a>
                            <a href="/oneri/onerilerim" class="dropdown-item pull-right" style="font-size: small">&emsp;&emsp;Öneri
                                / Şikayet Taleplerim</a>
                            <div class="dropdown-divider"></div>
                            <a href="/iletisim/iletisim" class="dropdown-item">İletişim</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Breadcrumb-->


        </div>


        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header gradient-deepblue text-white  text-uppercase">Personel Oluştur</div>
                    <div class="ribbon-content"></div>
                    <div class="card-body">
                        <form id="FormSave">
                            <div>
                                <!--                                <h3>Personel Oluştur</h3>-->
                                <div class="form-group row">
                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label for="adi" class="">Ad </label>

                                                    <input th:if="${personel != null}" type="text" class="form-control"
                                                           id="adi" name="ad" th:value="${personel.adi}"
                                                           placeholder="Ad giriniz" required>

                                                    <input th:if="${personel == null}" type="text"
                                                           class="form-control form-control-sm" id="adi"
                                                           name="ad" placeholder="Ad Giriniz" required/>

                                                </div>
                                                <div class="col-md-6">
                                                    <label for="soyAdi" class="">Soyad </label>
                                                    <input th:if="${personel != null}" type="text"
                                                           th:value="${personel.soyadi}"
                                                           class="form-control form-control-sm" id="soyAdi"
                                                           name="soyad"
                                                           placeholder="SOYAD" required>
                                                    <input th:if="${personel == null}" type="text"
                                                           class="form-control form-control-sm" id="soyAdi"
                                                           name="soyad"
                                                           placeholder="Soyadı Giriniz" required>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label for="tcPasaport" class="">TC Kİmlİk Numarası </label>

                                                    <input th:if="${personel != null}"
                                                           th:value="${personel.tcKimlikPasaportNo}"
                                                           class="form-control form-control-sm"
                                                           id="tcPasaport" placeholder="Kimlik No Giriniz" name="tc"
                                                           maxlength="11" required>

                                                    <input th:if="${personel == null}"
                                                           class="form-control form-control-sm" maxlength="11"
                                                           id="tcPasaport"
                                                           placeholder="Kimlik No Giriniz" name="tc" required>
                                                </div>


                                                <div class="col-md-6">
                                                    <div class="form-group" th:if="${personel == null}">
                                                        <label for="cinsiyet" class="">Cİnsİyet</label>
                                                        <select class="form-control form-control-sm" id="cinsiyet"
                                                                name="cinsiyet" required>
                                                            <option disabled="disabled" selected="selected"> -----
                                                                Cinsiyet Seçiniz -----
                                                            </option>
                                                            <option value="1">Erkek</option>
                                                            <option value="0">Kadın</option>
                                                        </select>
                                                    </div>


                                                    <div class="form-group" th:if="${personel != null}">
                                                        <label for="cinsiyet" class="">Cinsiyet</label>
                                                        <select class="form-control form-control-sm" id="cinsiyet"
                                                                name="cinsiyet" required>
                                                            <option value="1" th:selected="1==${personel.cinsiyet}">
                                                                Erkek
                                                            </option>
                                                            <option value="0" th:selected="0==${personel.cinsiyet}">
                                                                Kadın
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-6">

                                                    <div class="form-group" th:if="${personel == null}">
                                                        <label for="ulke" class="">Uyruk</label>
                                                        <select class="form-control form-control-sm" id="ulke"
                                                                name="uyruk" required>
                                                            <option disabled="disabled" selected="selected"> ----- Uyruk
                                                                Seçiniz -----
                                                            </option>
                                                            <option th:each="ulke : ${listUlke}" th:value="${ulke.id}"
                                                                    th:text="${ulke.ulke}"></option>
                                                        </select>
                                                    </div>

                                                    <div class="form-group" th:if="${personel != null}">
                                                        <label for="ulke" class="">Uyruk</label>
                                                        <select class="form-control form-control-sm" id="ulke"
                                                                name="uyruk" required>
                                                            <option th:each="ulke : ${listUlke}" th:value="${ulke.id}"
                                                                    th:text="${ulke.ulke}"
                                                                    th:selected="${ulke.id}==${personel.uyrukUlke.id}"></option>
                                                        </select>
                                                    </div>

                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group" th:if="${personel == null}">
                                                        <label for="persontur" class="">Personel Tür</label>
                                                        <select class="form-control form-control-sm" id="persontur"
                                                                name="pTur" required>
                                                            <option disabled="disabled" selected="selected"> -----
                                                                Personel Tür Seçiniz -----
                                                            </option>
                                                            <option th:each="tur : ${Tur}" th:value="${tur.id}"
                                                                    th:text="${tur.personelTur}"></option>
                                                        </select>
                                                    </div>

                                                    <div class="form-group" th:if="${personel != null}">
                                                        <label for="persontur" class="">Personel Türü</label>
                                                        <select class="form-control form-control-sm" id="persontur"
                                                                name="pTur" required>
                                                            <option th:each="tur : ${Tur}" th:value="${tur.id}"
                                                                    th:text="${tur.personelTur}"
                                                                    th:selected="${tur.id} == ${personel.personTur.id}"></option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label for="email" class="">E-Mail </label>
                                                    <input type="email" th:if="${personel == null}"
                                                           class="form-control form-control-sm" id="email" name="email"
                                                           placeholder="Varsa Mail Adresini Giriniz">
                                                    <input type="email" th:if="${personel != null}"
                                                           class="form-control form-control-sm" id="email" name="email"
                                                           th:value="${personel.email}"
                                                           placeholder="Varsa Mail Adresini Giriniz">
                                                </div>


                                                <div class="col-md-6">
                                                    <label for="telefon" class="">Telefon Numarası</label>
                                                    <input th:if="${personel == null}" type="number"
                                                           class="form-control form-control-sm"
                                                           id="telefon" name="telefon" required
                                                           placeholder="Telefon No Alanını Giriniz" maxlength="10">
                                                    <input th:if="${personel != null}" type="number"
                                                           class="form-control form-control-sm"
                                                           id="telefon" name="telefon" th:value="${personel.telefon}"
                                                           required placeholder="Telefon No Alanını Giriniz"
                                                           maxlength="10">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group" th:if="${personel == null}">
                                                        <label for="selectCity" class="">İl</label>
                                                        <select class="form-control form-control-sm" id="selectCity">
                                                            <option disabled="disabled" selected="selected"> ----- Şehir
                                                                Seçiniz -----
                                                            </option>
                                                            <option th:each="city : ${citys}" th:value="${city.id}"
                                                                    th:text="${city.il}"
                                                            ></option>
                                                        </select>
                                                    </div>

                                                    <div class="form-group" th:if="${personel != null}">
                                                        <label for="selectCity" class="">İl</label>
                                                        <select class="form-control form-control-sm" id="selectCity">
                                                            <option th:each="city : ${citys}" th:value="${city.id}"
                                                                    th:text="${city.il}"
                                                                    th:selected="${city.id} == ${personel.ilce.il.id}"
                                                            ></option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group" th:if="${personel == null}">
                                                        <label for="selectDistrict" class="">İlçe</label>
                                                        <select class="form-control form-control-sm"
                                                                id="selectDistrict">
                                                            <option disabled="disabled" selected="selected"> ----- İlçe
                                                                Seçiniz -----
                                                            </option>
                                                        </select>
                                                    </div>

                                                    <div class="form-group" th:if="${personel != null}">
                                                        <label for="selectDistrict" class="">İlçe</label>
                                                        <select class="form-control form-control-sm"
                                                                id="selectDistrict">
                                                            <option th:each="ilceList: ${ilceLists}"
                                                                    th:value="${ilceList.getId()}"
                                                                    th:text="${ilceList.getIlce()}"
                                                                    th:selected="${ilceList.getId()} == ${personel.ilce.id}">
                                                            </option>
                                                        </select>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <label class="control-label">Adres </label>
                                                    <textarea th:if="${personel == null}" rows="4" class="form-control"
                                                              id="adres" name="adres"
                                                              required placeholder="Adres Alanını Giriniz"></textarea>
                                                    <textarea th:if="${personel != null}" rows="4" class="form-control"
                                                              id="adres" name="adres" th:text="${personel.adres}"
                                                              required placeholder="Adres Alanını Giriniz"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <div class="card-body">
                                                            <label>Doğum Tarİhİ</label>
                                                            <span class="fa fa-calendar"></span>
                                                            <input th:if="${personel == null}" type="text"
                                                                   id="autoclose-datepicker" name="dogumT"
                                                                   class="form-control"
                                                                   placeholder="Varsa Doğum Tarihi Alanını Giriniz">
                                                            <input th:if="${personel != null}" type="text"
                                                                   id="autoclose-datepicker2" name="dogumT"
                                                                   th:value="${personel.dt}" class="form-control"
                                                                   placeholder="Varsa Doğum Tarihi Alanını Giriniz">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <div class="card-body">
                                                            <label>Posta Kodu</label>
                                                            <input th:if="${personel == null}" type="text" id="posta"
                                                                   name="posta" maxlength="5" class="form-control"
                                                                   placeholder="Varsa Posta Kodu Giriniz">
                                                            <input th:if="${personel!= null}" type="text" id="posta"
                                                                   name="posta" maxlength="5"
                                                                   th:value="${personel.postaKodu}" class="form-control"
                                                                   placeholder="Varsa Posta Kodu Giriniz">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <div class="row">

                                                <label>&emsp; &nbsp;&nbsp;</label>
                                                <div class="col-md-6">
                                                    <div class="form-group" th:if="${personel == null}">

                                                        <div class="icheck-material-success icheck-inline">
                                                            <input type="radio" id="inline-radio-success" name="durum"
                                                                   checked value=1>
                                                            <label for="inline-radio-success">Aktİf</label>
                                                        </div>
                                                        <div class="icheck-material-primary icheck-inline">
                                                            <input type="radio" id="inline-radio-primary" name="durum"
                                                                   value=2>
                                                            <label for="inline-radio-primary">Pasİf</label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group" th:if="${personel != null}">

                                                    <div class="icheck-material-success icheck-inline">
                                                        <input type="radio" th:checked="${personel.durum == 1}"
                                                               id="inline-radio-success" name="durum" checked value=1>
                                                        <label for="inline-radio-success">Aktİf</label>
                                                    </div>
                                                    <div class="icheck-material-primary icheck-inline">
                                                        <input type="radio" th:checked="${personel.durum == 2}"
                                                               id="inline-radio-primary" name="durum" value=0>
                                                        <label for="inline-radio-primary">Pasİf</label>
                                                    </div>

                                                </div>
                                                <div class="col-md-5">
                                                    <div class="btn-group" th:if="${personel == null}">
                                                        <div class="card-body">
                                                            <button type="submit" class="btn btn-success"><i
                                                                    class="fa fa-check-square-o"></i>
                                                                Kaydet
                                                            </button>
                                                            <label>&emsp; &nbsp;&nbsp;&nbsp;</label>
                                                            <a href="/anasayfa/dash/" class="btn btn-danger"><i
                                                                    class="zmdi zmdi-block-alt"></i>
                                                                İptal

                                                            </a>

                                                        </div>
                                                    </div>
                                                    <div class="form-group" th:if="${personel != null}">
                                                        <div class="card-body">
                                                            <button type="submit" class="btn btn-success"><i
                                                                    class="fa fa-check-square-o"></i>
                                                                Güncelle
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!--start overlay-->
            <div class="overlay toggle-menu"></div>
            <!--end overlay-->
        </div><!-- End container-fluid-->
    </div><!--End content-wrapper-->
    <!--Start Back To Top Button-->
    <a href="javaScript:void(0);" class="back-to-top"><i class="fa fa-angle-double-up"></i> </a>
    <!--End Back To Top Button-->
</div><!--End wrapper-->
<!--Start footer wrapper-->
<div th:replace="Footer :: footer"/>
<!--End footer-wrapper-->


<!-- Bootstrap core JavaScript-->
<script th:src="@{/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js}"></script>


<!-- Bootstrap core JavaScript-->
<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/js/popper.min.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/js/bildirim.js}"></script>

<!-- simplebar js -->
<script th:src="@{/plugins/simplebar/js/simplebar.js}"></script>
<!-- sidebar-menu js -->
<script th:src="@{/js/sidebar-menu.js}"></script>

<!-- Custom scripts -->
<script th:src="@{/js/app-script.js}"></script>

<script th:src="@{/plugins/notifications/js/lobibox.min.js}"></script>
<script th:src="@{/plugins/notifications/js/notifications.min.js}"></script>
<script th:src="@{/plugins/notifications/js/notification-custom-script.js}"></script>
<!--Form Validatin Script-->
<script th:src="@{/plugins/jquery-validation/js/jquery.validate.min.js}"></script>
<script th:src="@{/js/jquery-serialize.min.js}"></script>
<script type="application/javascript" th:src="@{/js/form-kontrol.js}">

</script>
<!--Bootstrap Datepicker Js-->
<script th:src="@{/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js}"></script>
<script>
    var personyas;
    var date = new Date();
    var today = new Date(date.getFullYear(), date.getMonth(), date.getDate());
    $(document).ready(function () {
        $('#autoclose-datepicker').datepicker({
            format: 'dd/mm/yyyy',
            language: 'tr',
        });
        $('#autoclose-datepicker').datepicker('setDate', today);
        $('#autoclose-datepicker2').datepicker({
            format: 'dd/mm/yyyy',
            language: 'tr',
        });
    });
    var ilkkez = 1;
    $("#autoclose-datepicker").change(function () {
        var input = $('#autoclose-datepicker').val();
        var pattern = /^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/;
        var sonuc = pattern.test(input);
        console.log("Sonuc: " + sonuc);
        if (ilkkez > 2) {
            console.log("ilk if girdi.");
            if (sonuc = "true") {
                console.log("sonuc if girdi.");
                console.log("Age Checker Worked...")
                var year = Number(input.substr(6, 4));
                console.log("Year: " + year);
                var month = Number(input.substr(3, 2) - 1);
                console.log("Month: " + month);
                var day = Number(input.substr(0, 2));
                console.log("Day: " + day);
                var age = today.getFullYear() - year;
                console.log("Age: " + age);
                personyas = age;
            } else {
                inf_msg(msg = "Personel Yaşı Tarihi İstenilen Formatta Giriniz.");
            }
        } else {
            ilkkez = 4;
            console.log(ilkkez);
        }
    });
    $("#autoclose-datepicker2").change(function () {
        var input2 = $('#autoclose-datepicker2').val();
        var pattern2 = /^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/;
        var sonuc2 = pattern2.test(input2);
        console.log("Sonuc: " + sonuc2);
        console.log("ilk if girdi.");
        if (sonuc2 = "true") {
            console.log("sonuc if girdi.");
            console.log("Age Checker Worked...")
            var year2 = Number(input2.substr(6, 4));
            console.log("Year: " + year2);
            var month2 = Number(input2.substr(3, 2) - 1);
            console.log("Month: " + month2);
            var day2 = Number(input2.substr(0, 2));
            console.log("Day: " + day2);
            var age2 = today.getFullYear() - year2;
            console.log("Age: " + age2);
            personyas = age2;
        } else {
            inf_msg(msg = "Personel Yaşı Tarihi İstenilen Formatta Giriniz.");
        }
    });
</script>
<!--<script th:inline="javascript">-->
<!--    var kontrol = /*[[${personel}]]*/;-->
<!--    console.log(kontrol);-->
<!--    if (kontrol != null){-->
<!--    }-->
<!--</script>-->
</body>
</html>
